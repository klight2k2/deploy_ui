"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[683],{84427:function(Me,S,a){a.d(S,{Z:function(){return v}});var E=a(51904),u=a(85893),b=function(l){var j=l.content;switch(j){case"Trung b\xECnh":return(0,u.jsx)(E.Z,{color:"#F2BD27",className:"mt-4 tag",children:"Trung b\xECnh"});case"Th\u1EA5p":return(0,u.jsx)(E.Z,{color:"#16a34a",className:"mt-4 tag",children:"Th\u1EA5p"});case"Cao":return(0,u.jsx)(E.Z,{color:"#ED3939",className:"mt-4 tag",children:"Cao"});case"C\xE1 nh\xE2n":return(0,u.jsx)(E.Z,{color:"#FF60D2",className:"mt-4 tag-private tag",children:"C\xE1 nh\xE2n"});case"Nh\xF3m":return(0,u.jsx)(E.Z,{color:"#FF60D2",className:"mt-4 tag",children:"Nh\xF3m"})}return(0,u.jsx)(E.Z,{className:"mt-4 tag",children:j})},v=b},70461:function(Me,S,a){var E=a(15009),u=a.n(E),b=a(99289),v=a.n(b),$=a(5574),l=a.n($),j=a(86548),G=a(88284),fe=a(87784),Y=a(87547),y=a(42075),x=a(71577),Oe=a(36147),_=a(27511),D=a(51904),Ae=a(96074),B=a(17948),Pe=a(83062),X=a(98293),pe=a(71230),L=a(15746),R=a(89934),d=a(12029),T=a(34041),J=a(73515),r=a(67294),Ze=a(60927),Ie=a(87405),c=a(99512),Se=a(27484),M=a.n(Se),Q=a(35312),e=a(85893),be=function(w){var U,W,K,F,t=w.task,ye=w.children,Be=(0,r.useState)(!1),q=l()(Be,2),Le=q[0],ee=q[1],Re=(0,r.useState)(!0),te=l()(Re,2),ne=te[0],f=te[1],Ue=(0,r.useState)(!1),ae=l()(Ue,2),We=ae[0],jt=ae[1],Ke=(0,r.useState)(t==null?void 0:t.name),se=l()(Ke,2),O=se[0],Fe=se[1],Ne=(0,r.useState)(t==null?void 0:t.type),le=l()(Ne,2),A=le[0],ke=le[1],Ve=(0,r.useState)(t==null?void 0:t.assignee),ie=l()(Ve,2),g=ie[0],ze=ie[1],He=(0,r.useState)(t==null?void 0:t.assigner),re=l()(He,2),N=re[0],Dt=re[1],$e=(0,r.useState)((t==null?void 0:t.tags)||[]),oe=l()($e,2),k=oe[0],Ge=oe[1],Ye=(0,r.useState)(t==null?void 0:t.startTime),ue=l()(Ye,2),P=ue[0],Xe=ue[1],Je=(0,r.useState)(t==null?void 0:t.endTime),de=l()(Je,2),p=de[0],Qe=de[1],we=(0,r.useState)(t==null?void 0:t.priority),_e=l()(we,2),Z=_e[0],qe=_e[1],et=(0,r.useState)(t==null?void 0:t.status),ce=l()(et,2),C=ce[0],tt=ce[1],nt=(0,r.useState)(t==null?void 0:t.description),Ee=l()(nt,2),I=Ee[0],at=Ee[1],st=(0,r.useState)((t==null?void 0:t.comments)||[]),he=l()(st,2),lt=he[0],Tt=he[1],it=(0,r.useState)(""),me=l()(it,2),V=me[0],ve=me[1],rt=(0,r.useState)((t==null?void 0:t.rate)||""),xe=l()(rt,2),z=xe[0],ot=xe[1],ut=(0,Q.useModel)("@@initialState"),dt=ut.initialState,_t=dt||{},h=_t.currentUser,H=(0,Q.useModel)("listTask"),ge=H.editTask,ct=H.addComment,Et=H.listTask;r.useEffect(function(){},[]);var ht=function(){ee(!0)},Ce=function(){var n={id:t.id,name:O,type:A,assignee:g,assigner:N,tags:k,startTime:P,endTime:p,priority:Z,status:C,description:I,comments:lt,rate:z,projectId:(t==null?void 0:t.projectId)||"private"};return n},mt=function(){var s=v()(u()().mark(function n(){var o,m;return u()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return o=Ce(),i.next=3,ge(o);case 3:m=i.sent,f(!0);case 5:case"end":return i.stop()}},n)}));return function(){return s.apply(this,arguments)}}(),vt=function(){var s=v()(u()().mark(function n(){var o,m;return u()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return o=Ce(),o.status=3,i.next=4,ge(o);case 4:m=i.sent,f(!0);case 6:case"end":return i.stop()}},n)}));return function(){return s.apply(this,arguments)}}(),je=function(){ee(!1)},De=function(n,o,m){switch(m){case"begin":Xe(o);break;case"end":Qe(o);break;default:break}},xt=function(){var s=v()(u()().mark(function n(){var o,m;return u()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(console.log("Add message"),!(V&&h!==null&&h!==void 0&&h.email&&t!==null&&t!==void 0&&t.id)){i.next=7;break}return o={email:h.email,content:V,timestamp:new Date().toISOString()},i.next=5,ct(t.id,o);case 5:m=i.sent,ve("");case 7:case"end":return i.stop()}},n)}));return function(){return s.apply(this,arguments)}}(),gt=function(){return ne?(0,e.jsxs)(y.Z,{children:[(0,e.jsx)(x.ZP,{icon:(0,e.jsx)(j.Z,{}),size:"small",onClick:function(){f(!1)},children:"Ch\u1EC9nh s\u1EEDa c\xF4ng vi\u1EC7c"}),(0,e.jsx)(x.ZP,{icon:(0,e.jsx)(G.Z,{}),size:"small",onClick:vt,disabled:C===3,children:"\u0110\xE1nh d\u1EA5u \u0111\xE3 ho\xE0n th\xE0nh"})]}):(0,e.jsxs)(y.Z,{children:[(0,e.jsx)(x.ZP,{icon:(0,e.jsx)(fe.Z,{}),size:"small",onClick:function(){f(!0)},children:"H\u1EE7y ch\u1EC9nh s\u1EEDa"}),(0,e.jsx)(x.ZP,{icon:(0,e.jsx)(G.Z,{}),size:"small",onClick:mt,children:"X\xE1c nh\u1EADn"})]})};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("span",{onClick:ht,children:ye}),(0,e.jsx)(Oe.Z,{footer:null,title:(0,e.jsx)(gt,{}),open:Le,onOk:je,confirmLoading:We,onCancel:je,bodyStyle:{borderTop:"solid 1px #000000",paddingTop:"12px"},children:ne?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(_.Z,{title:O,column:1,children:[(0,e.jsx)(_.Z.Item,{label:"Lo\u1EA1i c\xF4ng vi\u1EC7c",children:(U=c.mS[A-1])===null||U===void 0?void 0:U.label}),(0,e.jsx)(_.Z.Item,{label:"Ng\u01B0\u1EDDi th\u1EF1c hi\u1EC7n",children:g==null?void 0:g.map(function(s){return(0,e.jsx)(D.Z,{className:"mt-8",icon:(0,e.jsx)(Y.Z,{}),children:s},s)})}),(0,e.jsx)(_.Z.Item,{label:"Ng\u01B0\u1EDDi t\u1EA1o",children:(0,e.jsx)(D.Z,{icon:(0,e.jsx)(Y.Z,{}),children:N})}),(0,e.jsx)(_.Z.Item,{label:"Nh\xF3m c\xF4ng vi\u1EC7c",children:k.map(function(s){return(0,e.jsx)(D.Z,{children:s},s)})}),(0,e.jsx)(_.Z.Item,{label:"Ng\xE0y b\u1EAFt \u0111\u1EA7u",children:P.replaceAll("-","/").replaceAll(" "," - ")}),(0,e.jsx)(_.Z.Item,{label:"Ng\xE0y h\u1EBFt h\u1EA1n",children:p.replaceAll("-","/").replaceAll(" "," - ")}),(0,e.jsx)(_.Z.Item,{label:"\u0110\u1ED9 \u01B0u ti\xEAn",children:(W=c.jY[Z-1])===null||W===void 0?void 0:W.label}),(0,e.jsx)(_.Z.Item,{label:"Tr\u1EA1ng th\xE1i",children:(K=c.hm[C-1])===null||K===void 0?void 0:K.label}),(0,e.jsx)(_.Z.Item,{label:"M\xF4 t\u1EA3",children:I}),(0,e.jsx)(_.Z.Item,{label:"\u0110\xE1nh gi\xE1",children:z})]}),(0,e.jsxs)(y.Z,{direction:"vertical",style:{width:"100%"},children:[(0,e.jsx)(Ae.Z,{orientation:"left",children:"Nh\u1EADn x\xE9t"}),(0,e.jsx)("div",{style:{padding:"0 2px",border:"solid 1px #e4e6eb",borderRadius:"4px"},children:(0,e.jsx)(B.Z,{itemLayout:"horizontal",style:{overflowY:"scroll",maxHeight:"150px"},size:"small",dataSource:((F=Et.find(function(s){return(s==null?void 0:s.id)===(t==null?void 0:t.id)}))===null||F===void 0?void 0:F.comments)||[],renderItem:function(n){return(0,e.jsx)(B.Z.Item,{style:{border:"none"},children:(0,e.jsx)(B.Z.Item.Meta,{avatar:(0,e.jsx)(Pe.Z,{title:n.email,placement:"bottom",children:(0,e.jsx)(X.C,{src:(n==null?void 0:n.avatar)||c.tU})}),description:(0,e.jsx)("div",{style:{backgroundColor:"#e4e6eb",padding:"8px 12px",borderRadius:"12px",color:"#000",width:"fit-content"},children:n.content})})})}})}),(0,e.jsxs)(pe.Z,{justify:"space-between",children:[(0,e.jsx)(L.Z,{span:2,children:(0,e.jsx)(X.C,{src:(h==null?void 0:h.avatar)||c.tU})}),(0,e.jsx)(L.Z,{span:19,children:(0,e.jsx)(R.Z,{placeholder:"Tin nh\u1EAFn m\u1EDBi...",value:V,onChange:function(n){ve(n.target.value)}})}),(0,e.jsx)(L.Z,{span:2,children:(0,e.jsx)(x.ZP,{onClick:xt,children:"G\u1EEDi"})})]})]})]}):(0,e.jsxs)(d.Z,{name:"project-create",labelCol:{span:6},wrapperCol:{span:16},autoComplete:"off",children:[(0,e.jsx)(d.Z.Item,{name:"name",label:"T\xEAn c\xF4ng vi\u1EC7c",rules:[{required:!0,message:"H\xE3y nh\u1EADp t\xEAn c\xF4ng vi\u1EC7c"}],children:(0,e.jsx)(R.Z,{placeholder:"T\xEAn c\xF4ng vi\u1EC7c...",value:O,onChange:function(n){Fe(n.target.value)},defaultValue:O})}),(0,e.jsx)(d.Z.Item,{label:"Lo\u1EA1i c\xF4ng vi\u1EC7c",name:"type",children:(0,e.jsx)(T.Z,{value:A,options:c.mS,onChange:function(n){ke(n)},defaultValue:A})}),(0,e.jsx)(d.Z.Item,{label:"Th\xE0nh vi\xEAn",children:(0,e.jsx)(Ie.Z,{tags:g,setTags:function(n){ze(n)},disabled:!1})}),(0,e.jsx)(d.Z.Item,{label:"Ng\u01B0\u1EDDi t\u1EA1o",name:"creator",children:(0,e.jsx)(D.Z,{children:N})}),(0,e.jsx)(d.Z.Item,{label:"Nh\xF3m c\xF4ng vi\u1EC7c",children:(0,e.jsx)(Ze.Z,{tags:k,setTags:function(n){Ge(n)},disabled:!1})}),(0,e.jsx)(d.Z.Item,{label:"Ng\xE0y b\u1EAFt \u0111\u1EA7u",name:"startDate",rules:[{required:!0,message:"H\xE3y ch\u1ECDn ng\xE0y b\u1EAFt \u0111\u1EA7u c\xF4ng vi\u1EC7c"}],children:(0,e.jsx)(J.Z,{showTime:!0,onChange:function(n,o){De(n,o,"begin")},defaultValue:P?M()(P):M()(new Date().toISOString())})}),(0,e.jsx)(d.Z.Item,{label:"Ng\xE0y h\u1EBFt h\u1EA1n",name:"endDate",rules:[{required:!0,message:"H\xE3y ch\u1ECDn ng\xE0y h\u1EBFt h\u1EA1n c\u1EE7a c\xF4ng vi\u1EC7c"}],children:(0,e.jsx)(J.Z,{showTime:!0,onChange:function(n,o){De(n,o,"end")},defaultValue:p?M()(p):M()(new Date().toISOString())})}),(0,e.jsx)(d.Z.Item,{label:"\u0110\u1ED9 \u01B0u ti\xEAn",name:"priority",rules:[{required:!0,message:"H\xE3y ch\u1ECDn \u0111\u1ED9 \u01B0u ti\xEAn c\xF4ng vi\u1EC7c"}],children:(0,e.jsx)(T.Z,{value:Z,options:c.jY,onChange:function(n){qe(n)},defaultValue:Z})}),(0,e.jsx)(d.Z.Item,{label:"Tr\u1EA1ng th\xE1i",children:(0,e.jsx)(T.Z,{value:C,options:c.hm,onChange:function(n){tt(n)},defaultValue:C})}),(0,e.jsx)(d.Z.Item,{label:"M\xF4 t\u1EA3",children:(0,e.jsx)(R.Z.TextArea,{rows:2,placeholder:"M\xF4 t\u1EA3 d\u1EF1 \xE1n...",maxLength:200,value:I,defaultValue:I,onChange:function(n){at(n.target.value)}})}),(0,e.jsx)(d.Z.Item,{label:"\u0110\xE1nh gi\xE1",children:(0,e.jsx)(T.Z,{value:z,options:c.qW,onChange:function(n){ot(n)}})})]})})]})};S.Z=be}}]);
