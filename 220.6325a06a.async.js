"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[220],{60927:function($e,ye,a){a.d(ye,{Z:function(){return Ae}});var t=a(51042),Q=a(51904),p=a(67294),pe=a(19632),V=a.n(pe),W=a(5574),n=a.n(W),X=a(42075),i=a(89934),j=a(71577),je=a(55241),c=a(85893),k=function(C){var g=C.tags,le=C.setTags,s=C.children,w=p.useState(""),q=n()(w,2),O=q[0],D=q[1],_=p.useState(!1),f=n()(_,2),F=f[0],U=f[1],oe=function(){return U(!1)},z=function($){U($)},ie=function(){D("")},ee=function(){g.findIndex(function($){return $===O})===-1&&le([].concat(V()(g),[O])),oe(),ie()},ae=(0,c.jsx)(X.Z,{direction:"vertical",children:(0,c.jsxs)(X.Z,{children:[(0,c.jsx)(i.Z,{placeholder:"T\xEAn nh\xF3m...",value:O,onChange:function($){D($.target.value)}}),(0,c.jsx)(j.ZP,{onClick:ee,children:"Th\xEAm"})]})});return(0,c.jsx)(je.Z,{content:ae,trigger:"click",placement:"bottom",open:F,onOpenChange:z,children:s})},e=k,ve=function(C){var g=C.tags,le=C.setTags,s=C.disabled,w=s===void 0?!1:s,q=function(D){var _=g.filter(function(f){return f!==D});console.log(_),le(_)};return(0,c.jsxs)(c.Fragment,{children:[g.map(function(O){var D=(0,c.jsx)(Q.Z,{closable:!0,onClose:function(f){f.preventDefault(),q(O)},children:O});return(0,c.jsx)("span",{style:{display:"inline-block"},children:D},O)}),!w&&(0,c.jsx)(e,{tags:g,setTags:le,children:(0,c.jsxs)(Q.Z,{style:{cursor:"pointer"},children:[(0,c.jsx)(t.Z,{})," Th\xEAm"]})})]})},Ae=ve},87405:function($e,ye,a){a.d(ye,{Z:function(){return D}});var t=a(15009),Q=a.n(t),p=a(99289),pe=a.n(p),V=a(5574),W=a.n(V),n=a(87547),X=a(51042),i=a(51904),j=a(67294),je=a(19632),c=a.n(je),k=a(22594),e=a(79090),ve=a(42075),Ae=a(89934),me=a(71577),C=a(17948),g=a(98293),le=a(55241),s=a(85893),w=function(f){var F=f.tags,U=f.setTags,oe=f.children,z=j.useState(""),ie=W()(z,2),ee=ie[0],ae=ie[1],I=j.useState(null),$=W()(I,2),S=$[0],G=$[1],J=j.useState(!1),b=W()(J,2),ge=b[0],d=b[1],N=j.useState(!1),Z=W()(N,2),y=Z[0],L=Z[1],A=function(){return L(!1)},H=function(v){L(v)},M=function(){ae(""),G(null)},B=function(){var h=pe()(Q()().mark(function v(){var E;return Q()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return d(!0),P.next=3,k.Z.authApi.getUsersByEmail([ee]);case 3:E=P.sent,E&&G(E[0]),d(!1);case 6:case"end":return P.stop()}},v)}));return function(){return h.apply(this,arguments)}}(),R=function(){S&&F.findIndex(function(v){return v===S.email})===-1&&U([].concat(c()(F),[S.email])),A(),M()},te=(0,s.jsxs)(ve.Z,{direction:"vertical",children:[(0,s.jsxs)(ve.Z,{children:[(0,s.jsx)(Ae.Z,{placeholder:"abcde@gmail.com",value:ee,onChange:function(v){ae(v.target.value)}}),(0,s.jsx)(me.ZP,{onClick:B,children:"T\xECm"})]}),ge&&(0,s.jsx)(ve.Z,{align:"center",children:(0,s.jsx)(e.Z,{})}),S&&(0,s.jsx)(C.Z,{itemLayout:"horizontal",size:"small",children:(0,s.jsxs)(C.Z.Item,{children:[(0,s.jsx)(C.Z.Item.Meta,{avatar:(0,s.jsx)(g.C,{size:32,icon:(0,s.jsx)(n.Z,{})}),title:S.name,description:S.email,style:{alignItems:"center"}}),(0,s.jsx)(me.ZP,{onClick:R,children:"Ch\u1ECDn"})]})})]});return(0,s.jsx)(le.Z,{content:te,trigger:"click",placement:"bottom",open:y,onOpenChange:H,children:oe})},q=w,O=function(f){var F=f.tags,U=f.setTags,oe=f.disabled,z=oe===void 0?!1:oe,ie=j.useState(null),ee=W()(ie,2),ae=ee[0],I=ee[1],$=function(G){var J=F.filter(function(b){return b!==G});console.log(J),U(J)};return j.useEffect(function(){var S=function(){var G=pe()(Q()().mark(function J(){var b;return Q()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return F.length===0&&I([]),d.next=3,k.Z.authApi.getUsersByEmail(F);case 3:b=d.sent,b&&I(b);case 5:case"end":return d.stop()}},J)}));return function(){return G.apply(this,arguments)}}();S()},[F]),(0,s.jsxs)(s.Fragment,{children:[ae&&ae.map(function(S){var G=(0,s.jsx)(i.Z,{closable:!z,onClose:function(b){b.preventDefault(),$(S.email)},icon:(0,s.jsx)(n.Z,{}),children:S.name});return(0,s.jsx)("span",{style:{display:"inline-block"},children:G},S.email)}),!z&&(0,s.jsx)(q,{tags:F,setTags:U,children:(0,s.jsxs)(i.Z,{style:{cursor:"pointer"},children:[(0,s.jsx)(X.Z,{})," Th\xEAm"]})})]})},D=O},99220:function($e,ye,a){a.d(ye,{Z:function(){return b}});var t=a(67294),Q=a(15009),p=a.n(Q),pe=a(99289),V=a.n(pe),W=a(5574),n=a.n(W),X=a(36147),i=a(12029),j=a(89934),je=a(51904),c=a(87405),k=a(35312),e=a(85893),ve=function(d){var N=d.children,Z=(0,t.useState)(!1),y=n()(Z,2),L=y[0],A=y[1],H=(0,t.useState)(!1),M=n()(H,2),B=M[0],R=M[1],te=(0,t.useState)(""),h=n()(te,2),v=h[0],E=h[1],ne=(0,t.useState)([]),P=n()(ne,2),Ce=P[0],ue=P[1],fe=(0,t.useState)(""),de=n()(fe,2),ce=de[0],Se=de[1],he=(0,t.useState)(""),se=n()(he,2),Me=se[0],xe=se[1],Ee=(0,k.useModel)("project"),Pe=Ee.addProject;t.useEffect(function(){E(""),xe("");var o=localStorage.getItem("user");o&&(Se(JSON.parse(o).email),ue([JSON.parse(o).email]))},[L]);var Ie=function(){A(!0)},Te=function(){var o=V()(p()().mark(function l(){var x,K;return p()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return R(!0),x={name:v,members:Ce,creator:ce,description:Me},T.next=4,Pe(x);case 4:K=T.sent,console.log(K),A(!1),R(!1);case 8:case"end":return T.stop()}},l)}));return function(){return o.apply(this,arguments)}}(),Ze=function(){A(!1)};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("span",{onClick:Ie,children:N}),(0,e.jsx)(X.Z,{title:"T\u1EA1o d\u1EF1 \xE1n",open:L,onOk:Te,confirmLoading:B,onCancel:Ze,bodyStyle:{borderTop:"solid 1px #000000",paddingTop:"12px"},children:(0,e.jsxs)(i.Z,{name:"project-create",labelCol:{span:6},wrapperCol:{span:16},autoComplete:"off",children:[(0,e.jsx)(i.Z.Item,{label:"T\xEAn d\u1EF1 \xE1n",rules:[{required:!0,message:"H\xE3y nh\u1EADp t\xEAn d\u1EF1 \xE1n"}],children:(0,e.jsx)(j.Z,{placeholder:"T\xEAn d\u1EF1 \xE1n...",value:v,onChange:function(l){E(l.target.value)}})}),(0,e.jsx)(i.Z.Item,{label:"Th\xE0nh vi\xEAn",children:(0,e.jsx)(c.Z,{tags:Ce,setTags:function(l){ue(l)}})}),(0,e.jsx)(i.Z.Item,{label:"Ng\u01B0\u1EDDi t\u1EA1o",children:(0,e.jsx)(je.Z,{children:ce})}),(0,e.jsx)(i.Z.Item,{label:"M\xF4 t\u1EA3",children:(0,e.jsx)(j.Z.TextArea,{rows:2,placeholder:"M\xF4 t\u1EA3 d\u1EF1 \xE1n...",maxLength:200,value:Me,onChange:function(l){xe(l.target.value)}})})]})})]})},Ae=ve,me=a(2453),C=a(42075),g=a(71577),le=function(d){var N=d.children,Z=(0,t.useState)(!1),y=n()(Z,2),L=y[0],A=y[1],H=(0,t.useState)(""),M=n()(H,2),B=M[0],R=M[1],te=function(){A(!0),R("")},h=function(){A(!1)},v=function(){me.ZP.success("Chia s\u1EBB th\xE0nh c\xF4ng t\u1EDBi email: ".concat(B))};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("span",{onClick:te,children:N}),(0,e.jsx)(X.Z,{title:"Chia s\u1EBB",open:L,onCancel:h,bodyStyle:{borderTop:"solid 1px #000000",paddingTop:"12px"},footer:null,children:(0,e.jsxs)(C.Z.Compact,{style:{width:"100%"},children:[(0,e.jsx)(j.Z,{placeholder:"Nh\u1EADp email ng\u01B0\u1EDDi mu\u1ED1n chia s\u1EBB...",value:B,onChange:function(ne){R(ne.target.value)}}),(0,e.jsx)(g.ZP,{onClick:v,children:"Chia s\u1EBB"})]})})]})},s=le,w=a(34041),q=a(73515),O=a(60927),D=a(99512),_=function(d){var N=d.children,Z=d.projectId,y=Z===void 0?"private":Z,L=(0,t.useState)(!1),A=n()(L,2),H=A[0],M=A[1],B=(0,t.useState)(!1),R=n()(B,2),te=R[0],h=R[1],v=(0,t.useState)(""),E=n()(v,2),ne=E[0],P=E[1],Ce=(0,t.useState)(1),ue=n()(Ce,2),fe=ue[0],de=ue[1],ce=(0,t.useState)([]),Se=n()(ce,2),he=Se[0],se=Se[1],Me=(0,t.useState)(""),xe=n()(Me,2),Ee=xe[0],Pe=xe[1],Ie=(0,t.useState)([]),Te=n()(Ie,2),Ze=Te[0],o=Te[1],l=(0,t.useState)(""),x=n()(l,2),K=x[0],r=x[1],T=(0,t.useState)(""),De=n()(T,2),Y=De[0],be=De[1],Ye=(0,t.useState)(1),Be=n()(Ye,2),Re=Be[0],Ne=Be[1],Qe=(0,t.useState)(1),Le=n()(Qe,2),Ue=Le[0],ze=Le[1],Ve=(0,t.useState)(""),Ge=n()(Ve,2),Je=Ge[0],He=Ge[1],We=(0,k.useModel)("listTask"),Xe=We.addTask;t.useEffect(function(){P(""),de(1),o([]),r(""),be(""),Ne(1),ze(1),He("");var m=localStorage.getItem("user");m&&(Pe(JSON.parse(m).email),se([JSON.parse(m).email]))},[H]);var ke=function(){M(!0)},we=function(){var m=V()(p()().mark(function u(){var re,Fe;return p()().wrap(function(Oe){for(;;)switch(Oe.prev=Oe.next){case 0:return h(!0),re={name:ne,type:fe,assignee:he,assigner:Ee,tags:Ze,startTime:K,endTime:Y,priority:Re,status:Ue,description:Je,comments:[],projectId:y},Oe.next=4,Xe(re);case 4:Fe=Oe.sent,M(!1),h(!1);case 7:case"end":return Oe.stop()}},u)}));return function(){return m.apply(this,arguments)}}(),qe=function(){M(!1)},Ke=function(u,re,Fe){switch(Fe){case"begin":r(re);break;case"end":be(re);break;default:break}};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("span",{onClick:ke,children:N}),(0,e.jsx)(X.Z,{title:"T\u1EA1o c\xF4ng vi\u1EC7c",open:H,onOk:we,confirmLoading:te,onCancel:qe,bodyStyle:{borderTop:"solid 1px #000000",paddingTop:"12px"},children:(0,e.jsxs)(i.Z,{name:"project-create",labelCol:{span:6},wrapperCol:{span:16},autoComplete:"off",children:[(0,e.jsx)(i.Z.Item,{label:"T\xEAn c\xF4ng vi\u1EC7c",rules:[{required:!0,message:"H\xE3y nh\u1EADp t\xEAn c\xF4ng vi\u1EC7c"}],children:(0,e.jsx)(j.Z,{placeholder:"T\xEAn c\xF4ng vi\u1EC7c...",value:ne,onChange:function(u){P(u.target.value)}})}),(0,e.jsx)(i.Z.Item,{label:"Lo\u1EA1i c\xF4ng vi\u1EC7c",children:(0,e.jsx)(w.Z,{value:fe,options:D.mS,onChange:function(u){de(u)}})}),(0,e.jsx)(i.Z.Item,{label:"Ng\u01B0\u1EDDi th\u1EF1c hi\u1EC7n",children:(0,e.jsx)(c.Z,{tags:he,setTags:function(u){se(u)},disabled:fe===1})}),(0,e.jsx)(i.Z.Item,{label:"Ng\u01B0\u1EDDi t\u1EA1o",children:(0,e.jsx)(je.Z,{children:Ee})}),(0,e.jsx)(i.Z.Item,{label:"Nh\xF3m c\xF4ng vi\u1EC7c",children:(0,e.jsx)(O.Z,{tags:Ze,setTags:function(u){o(u)},disabled:!1})}),(0,e.jsx)(i.Z.Item,{label:"Ng\xE0y b\u1EAFt \u0111\u1EA7u",children:(0,e.jsx)(q.Z,{showTime:!0,onChange:function(u,re){Ke(u,re,"begin")}})}),(0,e.jsx)(i.Z.Item,{label:"Ng\xE0y h\u1EBFt h\u1EA1n",children:(0,e.jsx)(q.Z,{showTime:!0,onChange:function(u,re){Ke(u,re,"end")}})}),(0,e.jsx)(i.Z.Item,{label:"\u0110\u1ED9 \u01B0u ti\xEAn",children:(0,e.jsx)(w.Z,{value:Re,options:D.jY,onChange:function(u){Ne(u)}})}),(0,e.jsx)(i.Z.Item,{label:"Tr\u1EA1ng th\xE1i",children:(0,e.jsx)(w.Z,{value:Ue,options:D.hm,disabled:!0,onChange:function(u){ze(u)}})}),(0,e.jsx)(i.Z.Item,{label:"M\xF4 t\u1EA3",children:(0,e.jsx)(j.Z.TextArea,{rows:2,placeholder:"M\xF4 t\u1EA3 d\u1EF1 \xE1n...",maxLength:200,value:Je,onChange:function(u){He(u.target.value)}})})]})})]})},f=_,F=a(20046),U=a(51042),oe=a(88360),z=a(22594),ie=a(87547),ee=a(18429),ae=a(96074),I=a(17948),$=a(98293),S=function(d){var N=d.children,Z=(0,t.useState)(!1),y=n()(Z,2),L=y[0],A=y[1],H=(0,t.useState)(""),M=n()(H,2),B=M[0],R=M[1],te=(0,t.useState)([]),h=n()(te,2),v=h[0],E=h[1],ne=(0,t.useState)(!1),P=n()(ne,2),Ce=P[0],ue=P[1],fe=(0,t.useState)(),de=n()(fe,2),ce=de[0],Se=de[1],he=(0,k.useParams)(),se=(0,k.useModel)("project"),Me=se.listProject,xe=se.addComment,Ee=se.deleteMemberProject;(0,t.useEffect)(function(){var o=function(){var l=V()(p()().mark(function x(K){var r,T;return p()().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return Y.next=2,z.Z.projectApi.get(K);case 2:if(r=Y.sent,console.log("hello project",r),!(r!=null&&r.members)){Y.next=10;break}return Y.next=7,z.Z.authApi.getUsersByEmail(r.members);case 7:T=Y.sent,console.log("get mem",T),E(T);case 10:Se(r);case 11:case"end":return Y.stop()}},x)}));return function(K){return l.apply(this,arguments)}}();o(he.id)},[Ce]);var Pe=function(){var o=V()(p()().mark(function l(x){return p()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!x){r.next=3;break}return r.next=3,Ee(x,he.id);case 3:ue(function(T){return!T});case 4:case"end":return r.stop()}},l)}));return function(x){return o.apply(this,arguments)}}(),Ie=function(){var o=V()(p()().mark(function l(){var x;return p()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,z.Z.authApi.findByEmail(B);case 2:if(x=r.sent,!x){r.next=9;break}return r.next=6,xe(he.id,B);case 6:ue(function(T){return!T}),r.next=10;break;case 9:me.ZP.error("Kh\xF4ng t\xECm th\u1EA5y ng\u01B0\u1EDDi d\xF9ng!");case 10:case"end":return r.stop()}},l)}));return function(){return o.apply(this,arguments)}}(),Te=function(){A(!0)},Ze=function(){A(!1)};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("span",{onClick:Te,children:N}),(0,e.jsxs)(X.Z,{title:"Th\xE0nh vi\xEAn",open:L,onCancel:Ze,bodyStyle:{borderTop:"solid 1px #000000",paddingTop:"12px"},footer:null,children:[(0,e.jsxs)(C.Z.Compact,{style:{width:"100%"},children:[(0,e.jsx)(j.Z,{placeholder:"Nh\u1EADp email ng\u01B0\u1EDDi mu\u1ED1n m\u1EDDi...",value:B,onChange:function(l){R(l.target.value)}}),(0,e.jsx)(g.ZP,{onClick:Ie,children:"M\u1EDDi"})]}),(0,e.jsx)(ae.Z,{}),(0,e.jsx)(I.Z,{itemLayout:"horizontal",size:"small",dataSource:v,renderItem:function(l,x){return(0,e.jsxs)(I.Z.Item,{children:[(0,e.jsx)(I.Z.Item.Meta,{avatar:(0,e.jsx)($.C,{icon:(0,e.jsx)(ie.Z,{})}),title:l.name,description:l.email}),l.email===(ce==null?void 0:ce.creator)?(0,e.jsx)("div",{children:"Ng\u01B0\u1EDDi t\u1EA1o"}):(0,e.jsxs)(C.Z,{children:[(0,e.jsx)("div",{children:"Th\xE0nh vi\xEAn"}),(0,e.jsx)(g.ZP,{onClick:function(){return Pe(l.email)},icon:(0,e.jsx)(ee.Z,{})})]})]})}})]})]})},G=S,J=function(d){var N=d.type,Z=d.projectId,y=Z===void 0?"private":Z;switch(N){case"share":return(0,e.jsx)(s,{children:(0,e.jsx)(g.ZP,{ghost:!0,type:"primary",icon:(0,e.jsx)(F.Z,{}),children:" Chia s\u1EBB"},"1")});case"project-create":return(0,e.jsx)(Ae,{children:(0,e.jsx)(g.ZP,{ghost:!0,type:"primary",icon:(0,e.jsx)(U.Z,{}),children:" T\u1EA1o d\u1EF1 \xE1n"},"1")});case"task-create":return(0,e.jsx)(f,{projectId:y,children:(0,e.jsx)(g.ZP,{ghost:!0,type:"primary",icon:(0,e.jsx)(U.Z,{}),children:" T\u1EA1o c\xF4ng vi\u1EC7c"},"1")});case"add-member":return(0,e.jsx)(G,{children:(0,e.jsx)(g.ZP,{ghost:!0,type:"primary",icon:(0,e.jsx)(oe.Z,{}),children:" Th\xEAm th\xE0nh vi\xEAn"},"1")});default:break}},b=J}}]);
