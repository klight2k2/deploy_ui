"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[683],{84427:function(Me,P,a){a.d(P,{Z:function(){return m}});var E=a(51904),u=a(85893),Z=function(l){var C=l.content;switch(C){case"Trung b\xECnh":return(0,u.jsx)(E.Z,{color:"#F2BD27",className:"tag",children:"Trung b\xECnh"});case"Th\u1EA5p":return(0,u.jsx)(E.Z,{color:"#16a34a",className:"tag",children:"Th\u1EA5p"});case"Cao":return(0,u.jsx)(E.Z,{color:"#ED3939",className:"tag",children:"Cao"});case"C\xE1 nh\xE2n":return(0,u.jsx)(E.Z,{color:"#FF60D2",className:"tag-private tag",children:"C\xE1 nh\xE2n"});case"Nh\xF3m":return(0,u.jsx)(E.Z,{color:"#FF60D2",className:"tag",children:"Nh\xF3m"})}return(0,u.jsx)(E.Z,{className:"tag",children:C})},m=Z},70461:function(Me,P,a){var E=a(15009),u=a.n(E),Z=a(99289),m=a.n(Z),H=a(5574),l=a.n(H),C=a(86548),Y=a(88284),fe=a(87784),V=a(87547),p=a(42075),x=a(71577),Oe=a(36147),_=a(27511),j=a(51904),Ae=a(96074),I=a(17948),Pe=a(83062),X=a(98293),Ze=a(71230),S=a(15746),b=a(89934),d=a(12029),D=a(34041),J=a(73515),o=a(67294),pe=a(60927),Ie=a(87405),c=a(99512),Se=a(27484),T=a.n(Se),Q=a(35312),e=a(85893),be=function(w){var B,L,R,U,t=w.task,Be=w.children,Le=(0,o.useState)(!1),q=l()(Le,2),Re=q[0],ee=q[1],Ue=(0,o.useState)(!0),te=l()(Ue,2),ne=te[0],M=te[1],ye=(0,o.useState)(!1),ae=l()(ye,2),We=ae[0],jt=ae[1],Ke=(0,o.useState)(t==null?void 0:t.name),se=l()(Ke,2),y=se[0],Fe=se[1],Ne=(0,o.useState)(t==null?void 0:t.type),le=l()(Ne,2),W=le[0],ke=le[1],ze=(0,o.useState)(t==null?void 0:t.assignee),ie=l()(ze,2),g=ie[0],$e=ie[1],Ge=(0,o.useState)(t==null?void 0:t.assigner),oe=l()(Ge,2),K=oe[0],Dt=oe[1],He=(0,o.useState)((t==null?void 0:t.tags)||[]),re=l()(He,2),F=re[0],Ye=re[1],Ve=(0,o.useState)(t==null?void 0:t.startTime),ue=l()(Ve,2),f=ue[0],Xe=ue[1],Je=(0,o.useState)(t==null?void 0:t.endTime),de=l()(Je,2),O=de[0],Qe=de[1],we=(0,o.useState)(t==null?void 0:t.priority),_e=l()(we,2),N=_e[0],qe=_e[1],et=(0,o.useState)(t==null?void 0:t.status),ce=l()(et,2),A=ce[0],tt=ce[1],nt=(0,o.useState)(t==null?void 0:t.description),Ee=l()(nt,2),k=Ee[0],at=Ee[1],st=(0,o.useState)((t==null?void 0:t.comments)||[]),he=l()(st,2),lt=he[0],Tt=he[1],it=(0,o.useState)(""),ve=l()(it,2),z=ve[0],me=ve[1],ot=(0,o.useState)((t==null?void 0:t.rate)||""),xe=l()(ot,2),$=xe[0],rt=xe[1],ut=(0,Q.useModel)("@@initialState"),dt=ut.initialState,_t=dt||{},h=_t.currentUser,G=(0,Q.useModel)("listTask"),ge=G.editTask,ct=G.addComment,Et=G.listTask;o.useEffect(function(){},[]);var ht=function(){ee(!0)},Ce=function(){var n={id:t.id,name:y,type:W,assignee:g,assigner:K,tags:F,startTime:f,endTime:O,priority:N,status:A,description:k,comments:lt,rate:$,projectId:t.projectId};return n},vt=function(){var s=m()(u()().mark(function n(){var r,v;return u()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return r=Ce(),i.next=3,ge(r);case 3:v=i.sent,M(!0);case 5:case"end":return i.stop()}},n)}));return function(){return s.apply(this,arguments)}}(),mt=function(){var s=m()(u()().mark(function n(){var r,v;return u()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return r=Ce(),r.status=3,i.next=4,ge(r);case 4:v=i.sent,M(!0);case 6:case"end":return i.stop()}},n)}));return function(){return s.apply(this,arguments)}}(),je=function(){ee(!1)},De=function(n,r,v){switch(v){case"begin":Xe(r);break;case"end":Qe(r);break;default:break}},xt=function(){var s=m()(u()().mark(function n(){var r,v;return u()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(console.log("Add message"),!(z&&h!==null&&h!==void 0&&h.email&&t!==null&&t!==void 0&&t.id)){i.next=7;break}return r={email:h.email,content:z,timestamp:new Date().toISOString()},i.next=5,ct(t.id,r);case 5:v=i.sent,me("");case 7:case"end":return i.stop()}},n)}));return function(){return s.apply(this,arguments)}}(),gt=function(){return ne?(0,e.jsxs)(p.Z,{children:[(0,e.jsx)(x.ZP,{icon:(0,e.jsx)(C.Z,{}),size:"small",onClick:function(){M(!1)},children:"Ch\u1EC9nh s\u1EEDa c\xF4ng vi\u1EC7c"}),(0,e.jsx)(x.ZP,{icon:(0,e.jsx)(Y.Z,{}),size:"small",onClick:mt,disabled:A===3,children:"\u0110\xE1nh d\u1EA5u \u0111\xE3 ho\xE0n th\xE0nh"})]}):(0,e.jsxs)(p.Z,{children:[(0,e.jsx)(x.ZP,{icon:(0,e.jsx)(fe.Z,{}),size:"small",onClick:function(){M(!0)},children:"H\u1EE7y ch\u1EC9nh s\u1EEDa"}),(0,e.jsx)(x.ZP,{icon:(0,e.jsx)(Y.Z,{}),size:"small",onClick:vt,children:"X\xE1c nh\u1EADn"})]})};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("span",{onClick:ht,children:Be}),(0,e.jsx)(Oe.Z,{footer:null,title:(0,e.jsx)(gt,{}),open:Re,onOk:je,confirmLoading:We,onCancel:je,bodyStyle:{borderTop:"solid 1px #000000",paddingTop:"12px"},children:ne?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(_.Z,{title:y,column:1,children:[(0,e.jsx)(_.Z.Item,{label:"Lo\u1EA1i c\xF4ng vi\u1EC7c",children:(B=c.mS[W-1])===null||B===void 0?void 0:B.label}),(0,e.jsx)(_.Z.Item,{label:"Ng\u01B0\u1EDDi th\u1EF1c hi\u1EC7n",children:g==null?void 0:g.map(function(s){return(0,e.jsx)(j.Z,{className:"mt-8",icon:(0,e.jsx)(V.Z,{}),children:s},s)})}),(0,e.jsx)(_.Z.Item,{label:"Ng\u01B0\u1EDDi t\u1EA1o",children:(0,e.jsx)(j.Z,{icon:(0,e.jsx)(V.Z,{}),children:K})}),(0,e.jsx)(_.Z.Item,{label:"Nh\xF3m c\xF4ng vi\u1EC7c",children:F.map(function(s){return(0,e.jsx)(j.Z,{children:s},s)})}),(0,e.jsx)(_.Z.Item,{label:"Ng\xE0y b\u1EAFt \u0111\u1EA7u",children:f.replaceAll("-","/").replaceAll(" "," - ")}),(0,e.jsx)(_.Z.Item,{label:"Ng\xE0y h\u1EBFt h\u1EA1n",children:O.replaceAll("-","/").replaceAll(" "," - ")}),(0,e.jsx)(_.Z.Item,{label:"\u0110\u1ED9 \u01B0u ti\xEAn",children:(L=c.jY[N-1])===null||L===void 0?void 0:L.label}),(0,e.jsx)(_.Z.Item,{label:"Tr\u1EA1ng th\xE1i",children:(R=c.hm[A-1])===null||R===void 0?void 0:R.label}),(0,e.jsx)(_.Z.Item,{label:"M\xF4 t\u1EA3",children:k}),(0,e.jsx)(_.Z.Item,{label:"\u0110\xE1nh gi\xE1",children:$})]}),(0,e.jsxs)(p.Z,{direction:"vertical",style:{width:"100%"},children:[(0,e.jsx)(Ae.Z,{orientation:"left",children:"Nh\u1EADn x\xE9t"}),(0,e.jsx)("div",{style:{padding:"0 2px",border:"solid 1px #e4e6eb",borderRadius:"4px"},children:(0,e.jsx)(I.Z,{itemLayout:"horizontal",style:{overflowY:"scroll",maxHeight:"150px"},size:"small",dataSource:((U=Et.find(function(s){return(s==null?void 0:s.id)===(t==null?void 0:t.id)}))===null||U===void 0?void 0:U.comments)||[],renderItem:function(n){return(0,e.jsx)(I.Z.Item,{style:{border:"none"},children:(0,e.jsx)(I.Z.Item.Meta,{avatar:(0,e.jsx)(Pe.Z,{title:n.email,placement:"bottom",children:(0,e.jsx)(X.C,{src:(n==null?void 0:n.avatar)||c.tU})}),description:(0,e.jsx)("div",{style:{backgroundColor:"#e4e6eb",padding:"8px 12px",borderRadius:"12px",color:"#000",width:"fit-content"},children:n.content})})})}})}),(0,e.jsxs)(Ze.Z,{justify:"space-between",children:[(0,e.jsx)(S.Z,{span:2,children:(0,e.jsx)(X.C,{src:(h==null?void 0:h.avatar)||c.tU})}),(0,e.jsx)(S.Z,{span:19,children:(0,e.jsx)(b.Z,{placeholder:"Tin nh\u1EAFn m\u1EDBi...",value:z,onChange:function(n){me(n.target.value)}})}),(0,e.jsx)(S.Z,{span:2,children:(0,e.jsx)(x.ZP,{onClick:xt,children:"G\u1EEDi"})})]})]})]}):(0,e.jsxs)(d.Z,{name:"project-create",labelCol:{span:6},wrapperCol:{span:16},autoComplete:"off",children:[(0,e.jsx)(d.Z.Item,{label:"T\xEAn c\xF4ng vi\u1EC7c",rules:[{required:!0,message:"H\xE3y nh\u1EADp t\xEAn c\xF4ng vi\u1EC7c"}],children:(0,e.jsx)(b.Z,{placeholder:"T\xEAn c\xF4ng vi\u1EC7c...",value:y,onChange:function(n){Fe(n.target.value)}})}),(0,e.jsx)(d.Z.Item,{label:"Lo\u1EA1i c\xF4ng vi\u1EC7c",children:(0,e.jsx)(D.Z,{value:W,options:c.mS,onChange:function(n){ke(n)}})}),(0,e.jsx)(d.Z.Item,{label:"Th\xE0nh vi\xEAn",children:(0,e.jsx)(Ie.Z,{tags:g,setTags:function(n){$e(n)},disabled:!1})}),(0,e.jsx)(d.Z.Item,{label:"Ng\u01B0\u1EDDi t\u1EA1o",children:(0,e.jsx)(j.Z,{children:K})}),(0,e.jsx)(d.Z.Item,{label:"Nh\xF3m c\xF4ng vi\u1EC7c",children:(0,e.jsx)(pe.Z,{tags:F,setTags:function(n){Ye(n)},disabled:!1})}),(0,e.jsx)(d.Z.Item,{label:"Ng\xE0y b\u1EAFt \u0111\u1EA7u",children:(0,e.jsx)(J.Z,{showTime:!0,onChange:function(n,r){De(n,r,"begin")},defaultValue:f?T()(f):T()(new Date().toISOString())})}),(0,e.jsx)(d.Z.Item,{label:"Ng\xE0y h\u1EBFt h\u1EA1n",children:(0,e.jsx)(J.Z,{showTime:!0,onChange:function(n,r){De(n,r,"end")},defaultValue:O?T()(O):T()(new Date().toISOString())})}),(0,e.jsx)(d.Z.Item,{label:"\u0110\u1ED9 \u01B0u ti\xEAn",children:(0,e.jsx)(D.Z,{value:N,options:c.jY,onChange:function(n){qe(n)}})}),(0,e.jsx)(d.Z.Item,{label:"Tr\u1EA1ng th\xE1i",children:(0,e.jsx)(D.Z,{value:A,options:c.hm,onChange:function(n){tt(n)}})}),(0,e.jsx)(d.Z.Item,{label:"M\xF4 t\u1EA3",children:(0,e.jsx)(b.Z.TextArea,{rows:2,placeholder:"M\xF4 t\u1EA3 d\u1EF1 \xE1n...",maxLength:200,value:k,onChange:function(n){at(n.target.value)}})}),(0,e.jsx)(d.Z.Item,{label:"\u0110\xE1nh gi\xE1",children:(0,e.jsx)(D.Z,{value:$,options:c.qW,onChange:function(n){rt(n)}})})]})})]})};P.Z=be}}]);
