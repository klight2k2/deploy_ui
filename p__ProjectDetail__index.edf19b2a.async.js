"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[773],{81721:function(ce,C,t){t.r(C),t.d(C,{default:function(){return te}});var G=t(15009),P=t.n(G),H=t(99289),X=t.n(H),Y=t(5574),f=t.n(Y),S=t(84427),z=t(69877),I=t(48689),$=t(90930),u=t(27324),J=t(71230),v=t(15746),Q=t(86738),U=t(71577),i=t(42075),V=t(61621),W=t(34041),b=t(47221),w=t(54074),h=t(35312),j=t(67294),q=t(70461),g=t(99512),D=t(99220),A=t(22594),_=t(33076),e=t(85893),p=function(c){var d,x,s=c.task,Z=(0,h.useModel)("listTask"),m=Z.removeTask;return(0,e.jsx)(q.Z,{task:s,children:(0,e.jsxs)(J.Z,{gutter:[16,16],align:"middle",className:"task",children:[(0,e.jsx)(v.Z,{span:11,children:s==null?void 0:s.name}),(0,e.jsxs)(v.Z,{span:6,children:[(0,e.jsx)(S.Z,{content:(d=g.jY[s.priority-1])===null||d===void 0?void 0:d.label}),(0,e.jsx)(S.Z,{content:(x=g.mS[s.type-1])===null||x===void 0?void 0:x.label})]}),(0,e.jsxs)(v.Z,{span:5,children:[" Deadline:",s==null?void 0:s.endTime]}),(0,e.jsxs)(v.Z,{span:2,className:"d-flex justify-center align-center",children:[" ",(0,e.jsx)(Q.Z,{title:"Xo\xE1 c\xF4ng vi\u1EC7c",description:"B\u1EA1n c\xF3 ch\u1EAFc mu\u1ED1n x\xF3a c\xF4ng vi\u1EC7c n\xE0y ch\u1EE9",onConfirm:function(r){r==null||r.stopPropagation(),m(s.id)},okText:"X\xF3a",cancelText:"H\u1EE7y",children:(0,e.jsx)(U.ZP,{danger:!0,icon:(0,e.jsx)(I.Z,{}),onClick:function(r){r.stopPropagation()}})})]})]})})},ee=function(){var c=(0,h.useModel)("listTask"),d=c.listTask,x=c.removeTask,s=c.setListTask,Z=(0,j.useState)(),m=f()(Z,2),n=m[0],r=m[1],F=(0,h.useModel)("project"),se=F.listProject,ue=F.addMember,ne=(0,j.useState)(""),M=f()(ne,2),B=M[0],le=M[1],re=(0,j.useState)(!1),N=f()(re,2),oe=N[0],ie=N[1],k=[],L=[],O=[];d.sort(function(a,l){return oe?l.priority-a.priority:a.priority-l.priority}),d.forEach(function(a){console.log(a),(B===""||a.name.includes(B))&&(a.status===1?k.push((0,e.jsx)(p,{task:a})):a.status===2?L.push((0,e.jsx)(p,{task:a})):O.push((0,e.jsx)(p,{task:a})))});var K=(0,h.useParams)();(0,j.useEffect)(function(){var a=function(){var l=X()(P()().mark(function R(y){var T,E;return P()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,A.Z.projectApi.get(y);case 2:return T=o.sent,o.next=5,A.Z.taskApi.getByProject(y);case 5:E=o.sent,console.log("project detail",T),console.log("project detail",E),s(E),r(T);case 10:case"end":return o.stop()}},R)}));return function(y){return l.apply(this,arguments)}}();a(K.id)},[se]),console.log("memberr",n==null?void 0:n.members);var de=[{key:"1",label:"Ch\u01B0a th\u1EF1c hi\u1EC7n",children:(0,e.jsx)(i.Z,{className:"list-task",direction:"vertical",children:k})},{key:"2",label:"\u0110ang th\u1EF1c hi\u1EC7n",children:(0,e.jsx)(i.Z,{className:"list-task",direction:"vertical",children:L})},{key:"3",label:"\u0110\xE3 ho\xE0n th\xE0nh",children:(0,e.jsx)(i.Z,{className:"list-task",direction:"vertical",children:O})}];return(0,e.jsx)($._z,{pageHeaderRender:!1,children:(0,e.jsxs)(u.Z,{title:(0,e.jsxs)("div",{children:[(0,e.jsx)(V.Z,{preview:!1,height:40,width:40,src:(n==null?void 0:n.avatar)||g.KY}),(0,e.jsx)("span",{className:"ml-16",children:n==null?void 0:n.name})]}),extra:(0,e.jsxs)(i.Z,{children:[(0,e.jsx)(D.Z,{type:"add-member"}),(0,e.jsx)(D.Z,{type:"task-create",projectId:K.id})]}),tabs:{type:"line"},children:[(0,e.jsx)(u.Z.TabPane,{tab:"Danh s\xE1ch",children:(0,e.jsxs)(i.Z,{direction:"vertical",style:{width:"100%"},children:[(0,e.jsxs)(i.Z,{children:[(0,e.jsx)(_.Z,{placeholder:"Nh\u1EADp c\xF4ng vi\u1EC7c b\u1EA1n mu\u1ED1n t\xECm ki\u1EBFm",allowClear:!0,onSearch:function(l){return le(l)},style:{width:304}}),(0,e.jsx)(W.Z,{placeholder:"S\u1EAFp x\u1EBFp theo \u0111\u1ED9 \u01B0u ti\xEAn",allowClear:!0,style:{width:200},onChange:function(l){console.log(l),ie(l)},options:[{value:!0,label:"Cao xu\u1ED1ng th\u1EA5p"},{value:!1,label:"Th\u1EA5p l\xEAn th\u1EA5p"}]})]}),(0,e.jsx)(b.Z,{items:de,defaultActiveKey:["1"]})]})},"list"),(0,e.jsx)(u.Z.TabPane,{tab:"B\u1EA3ng",children:(0,e.jsx)(z.Z,{})},"board"),(0,e.jsx)(u.Z.TabPane,{tab:"L\u1ECBch",children:(0,e.jsx)(w.Z,{})},"calendar")]})})},te=ee}}]);
