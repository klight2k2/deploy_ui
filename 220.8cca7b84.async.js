"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[220],{60927:function($e,Ae,a){a.d(Ae,{Z:function(){return Me}});var t=a(51042),W=a(51904),h=a(67294),je=a(19632),U=a.n(je),X=a(5574),n=a.n(X),k=a(42075),u=a(89934),j=a(71577),Ce=a(55241),v=a(85893),w=function(C){var f=C.tags,le=C.setTags,s=C.children,q=h.useState(""),_=n()(q,2),I=_[0],D=_[1],ee=h.useState(!1),p=n()(ee,2),O=p[0],z=p[1],oe=function(){return z(!1)},H=function($){z($)},ie=function(){D("")},ae=function(){f.findIndex(function($){return $===I})===-1&&le([].concat(U()(f),[I])),oe(),ie()},te=(0,v.jsx)(k.Z,{direction:"vertical",children:(0,v.jsxs)(k.Z,{children:[(0,v.jsx)(u.Z,{placeholder:"T\xEAn nh\xF3m...",value:I,onChange:function($){D($.target.value)}}),(0,v.jsx)(j.ZP,{onClick:ae,children:"Th\xEAm"})]})});return(0,v.jsx)(Ce.Z,{content:te,trigger:"click",placement:"bottom",open:O,onOpenChange:H,children:s})},e=w,ve=function(C){var f=C.tags,le=C.setTags,s=C.disabled,q=s===void 0?!1:s,_=function(D){var ee=f.filter(function(p){return p!==D});console.log(ee),le(ee)};return(0,v.jsxs)(v.Fragment,{children:[f.map(function(I){var D=(0,v.jsx)(W.Z,{closable:!0,onClose:function(p){p.preventDefault(),_(I)},children:I});return(0,v.jsx)("span",{style:{display:"inline-block"},children:D},I)}),!q&&(0,v.jsx)(e,{tags:f,setTags:le,children:(0,v.jsxs)(W.Z,{style:{cursor:"pointer"},children:[(0,v.jsx)(t.Z,{})," Th\xEAm"]})})]})},Me=ve},87405:function($e,Ae,a){a.d(Ae,{Z:function(){return D}});var t=a(15009),W=a.n(t),h=a(99289),je=a.n(h),U=a(5574),X=a.n(U),n=a(87547),k=a(51042),u=a(51904),j=a(67294),Ce=a(19632),v=a.n(Ce),w=a(22594),e=a(79090),ve=a(42075),Me=a(89934),me=a(71577),C=a(17948),f=a(98293),le=a(55241),s=a(85893),q=function(p){var O=p.tags,z=p.setTags,oe=p.children,H=j.useState(""),ie=X()(H,2),ae=ie[0],te=ie[1],P=j.useState(null),$=X()(P,2),S=$[0],G=$[1],J=j.useState(!1),b=X()(J,2),ge=b[0],d=b[1],N=j.useState(!1),T=X()(N,2),y=T[0],L=T[1],A=function(){return L(!1)},K=function(g){L(g)},M=function(){te(""),G(null)},B=function(){var m=je()(W()().mark(function g(){var E;return W()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return d(!0),F.next=3,w.Z.authApi.getUsersByEmail([ae]);case 3:E=F.sent,E&&G(E[0]),d(!1);case 6:case"end":return F.stop()}},g)}));return function(){return m.apply(this,arguments)}}(),R=function(){S&&O.findIndex(function(g){return g===S.email})===-1&&z([].concat(v()(O),[S.email])),A(),M()},ne=(0,s.jsxs)(ve.Z,{direction:"vertical",children:[(0,s.jsxs)(ve.Z,{children:[(0,s.jsx)(Me.Z,{placeholder:"abcde@gmail.com",value:ae,onChange:function(g){te(g.target.value)}}),(0,s.jsx)(me.ZP,{onClick:B,children:"T\xECm"})]}),ge&&(0,s.jsx)(ve.Z,{align:"center",children:(0,s.jsx)(e.Z,{})}),S&&(0,s.jsx)(C.Z,{itemLayout:"horizontal",size:"small",children:(0,s.jsxs)(C.Z.Item,{children:[(0,s.jsx)(C.Z.Item.Meta,{avatar:(0,s.jsx)(f.C,{size:32,icon:(0,s.jsx)(n.Z,{})}),title:S.name,description:S.email,style:{alignItems:"center"}}),(0,s.jsx)(me.ZP,{onClick:R,children:"Ch\u1ECDn"})]})})]});return(0,s.jsx)(le.Z,{content:ne,trigger:"click",placement:"bottom",open:y,onOpenChange:K,children:oe})},_=q,I=function(p){var O=p.tags,z=p.setTags,oe=p.disabled,H=oe===void 0?!1:oe,ie=j.useState(null),ae=X()(ie,2),te=ae[0],P=ae[1],$=function(G){var J=O.filter(function(b){return b!==G});console.log(J),z(J)};return j.useEffect(function(){var S=function(){var G=je()(W()().mark(function J(){var b;return W()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return O.length===0&&P([]),d.next=3,w.Z.authApi.getUsersByEmail(O);case 3:b=d.sent,b&&P(b);case 5:case"end":return d.stop()}},J)}));return function(){return G.apply(this,arguments)}}();S()},[O]),(0,s.jsxs)(s.Fragment,{children:[te&&te.map(function(S){var G=(0,s.jsx)(u.Z,{closable:!H,onClose:function(b){b.preventDefault(),$(S.email)},icon:(0,s.jsx)(n.Z,{}),children:S.name});return(0,s.jsx)("span",{style:{display:"inline-block"},children:G},S.email)}),!H&&(0,s.jsx)(_,{tags:O,setTags:z,children:(0,s.jsxs)(u.Z,{style:{cursor:"pointer"},children:[(0,s.jsx)(k.Z,{})," Th\xEAm"]})})]})},D=I},99220:function($e,Ae,a){a.d(Ae,{Z:function(){return b}});var t=a(67294),W=a(15009),h=a.n(W),je=a(99289),U=a.n(je),X=a(5574),n=a.n(X),k=a(36147),u=a(12029),j=a(89934),Ce=a(51904),v=a(87405),w=a(35312),e=a(85893),ve=function(d){var N=d.children,T=(0,t.useState)(!1),y=n()(T,2),L=y[0],A=y[1],K=(0,t.useState)(!1),M=n()(K,2),B=M[0],R=M[1],ne=(0,t.useState)(""),m=n()(ne,2),g=m[0],E=m[1],se=(0,t.useState)([]),F=n()(se,2),Se=F[0],ue=F[1],fe=(0,t.useState)(""),de=n()(fe,2),ce=de[0],Ee=de[1],he=(0,t.useState)(""),re=n()(he,2),Fe=re[0],pe=re[1],Ze=(0,w.useModel)("project"),Pe=Ze.addProject;t.useEffect(function(){E(""),pe("");var i=localStorage.getItem("user");i&&(Ee(JSON.parse(i).email),ue([JSON.parse(i).email]))},[L]);var Ie=function(){A(!0)},Te=function(){var i=U()(h()().mark(function l(){var x,Y;return h()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return R(!0),x={name:g,members:Se,creator:ce,description:Fe},Z.next=4,Pe(x);case 4:Y=Z.sent,console.log(Y),A(!1),R(!1);case 8:case"end":return Z.stop()}},l)}));return function(){return i.apply(this,arguments)}}(),ye=function(){A(!1)};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("span",{onClick:Ie,children:N}),(0,e.jsx)(k.Z,{title:"T\u1EA1o d\u1EF1 \xE1n",open:L,onOk:Te,confirmLoading:B,onCancel:ye,bodyStyle:{borderTop:"solid 1px #000000",paddingTop:"12px"},children:(0,e.jsxs)(u.Z,{name:"project-create",labelCol:{span:6},wrapperCol:{span:16},autoComplete:"off",children:[(0,e.jsx)(u.Z.Item,{label:"T\xEAn d\u1EF1 \xE1n",rules:[{required:!0,message:"H\xE3y nh\u1EADp t\xEAn d\u1EF1 \xE1n"}],children:(0,e.jsx)(j.Z,{placeholder:"T\xEAn d\u1EF1 \xE1n...",value:g,onChange:function(l){E(l.target.value)}})}),(0,e.jsx)(u.Z.Item,{label:"Th\xE0nh vi\xEAn",children:(0,e.jsx)(v.Z,{tags:Se,setTags:function(l){ue(l)}})}),(0,e.jsx)(u.Z.Item,{label:"Ng\u01B0\u1EDDi t\u1EA1o",children:(0,e.jsx)(Ce.Z,{children:ce})}),(0,e.jsx)(u.Z.Item,{label:"M\xF4 t\u1EA3",children:(0,e.jsx)(j.Z.TextArea,{rows:2,placeholder:"M\xF4 t\u1EA3 d\u1EF1 \xE1n...",maxLength:200,value:Fe,onChange:function(l){pe(l.target.value)}})})]})})]})},Me=ve,me=a(2453),C=a(42075),f=a(71577),le=function(d){var N=d.children,T=(0,t.useState)(!1),y=n()(T,2),L=y[0],A=y[1],K=(0,t.useState)(""),M=n()(K,2),B=M[0],R=M[1],ne=function(){A(!0),R("")},m=function(){A(!1)},g=function(){me.ZP.success("Chia s\u1EBB th\xE0nh c\xF4ng t\u1EDBi email: ".concat(B))};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("span",{onClick:ne,children:N}),(0,e.jsx)(k.Z,{title:"Chia s\u1EBB",open:L,onCancel:m,bodyStyle:{borderTop:"solid 1px #000000",paddingTop:"12px"},footer:null,children:(0,e.jsxs)(C.Z.Compact,{style:{width:"100%"},children:[(0,e.jsx)(j.Z,{placeholder:"Nh\u1EADp email ng\u01B0\u1EDDi mu\u1ED1n chia s\u1EBB...",value:B,onChange:function(se){R(se.target.value)}}),(0,e.jsx)(f.ZP,{onClick:g,children:"Chia s\u1EBB"})]})})]})},s=le,q=a(34041),_=a(73515),I=a(60927),D=a(99512),ee=function(d){var N=d.children,T=d.projectId,y=T===void 0?"private":T,L=(0,t.useState)(!1),A=n()(L,2),K=A[0],M=A[1],B=(0,t.useState)(!1),R=n()(B,2),ne=R[0],m=R[1],g=(0,t.useState)(""),E=n()(g,2),se=E[0],F=E[1],Se=(0,t.useState)(1),ue=n()(Se,2),fe=ue[0],de=ue[1],ce=(0,t.useState)([]),Ee=n()(ce,2),he=Ee[0],re=Ee[1],Fe=(0,t.useState)(""),pe=n()(Fe,2),Ze=pe[0],Pe=pe[1],Ie=(0,t.useState)([]),Te=n()(Ie,2),ye=Te[0],i=Te[1],l=(0,t.useState)(""),x=n()(l,2),Y=x[0],r=x[1],Z=(0,t.useState)(""),Oe=n()(Z,2),Q=Oe[0],be=Oe[1],Qe=(0,t.useState)(1),Be=n()(Qe,2),Re=Be[0],Ne=Be[1],Ve=(0,t.useState)(1),Le=n()(Ve,2),Ue=Le[0],ze=Le[1],We=(0,t.useState)(""),He=n()(We,2),Ge=He[0],Je=He[1],Xe=(0,w.useModel)("listTask"),ke=Xe.addTask;t.useEffect(function(){F(""),de(1),i([]),r(""),be(""),Ne(1),ze(1),Je("");var c=localStorage.getItem("user");c&&(Pe(JSON.parse(c).email),re([JSON.parse(c).email]))},[K]);var we=function(){M(!0)},qe=function(){var c=U()(h()().mark(function o(){return h()().wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:console.log(Ke.submit());case 1:case"end":return xe.stop()}},o)}));return function(){return c.apply(this,arguments)}}(),_e=function(){var c=U()(h()().mark(function o(){var V,xe;return h()().wrap(function(De){for(;;)switch(De.prev=De.next){case 0:return m(!0),V={name:se,type:fe,assignee:he,assigner:Ze,tags:ye,startTime:Y,endTime:Q,priority:Re,status:Ue,description:Ge,comments:[],projectId:y},De.next=4,ke(V);case 4:xe=De.sent,M(!1),m(!1);case 7:case"end":return De.stop()}},o)}));return function(){return c.apply(this,arguments)}}(),ea=function(){},aa=u.Z.useForm(),ta=n()(aa,1),Ke=ta[0],na=function(){M(!1)},Ye=function(o,V,xe){switch(xe){case"begin":r(V);break;case"end":be(V);break;default:break}};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("span",{onClick:we,children:N}),(0,e.jsx)(k.Z,{title:"T\u1EA1o c\xF4ng vi\u1EC7c",open:K,onOk:qe,confirmLoading:ne,onCancel:na,bodyStyle:{borderTop:"solid 1px #000000",paddingTop:"12px"},children:(0,e.jsxs)(u.Z,{form:Ke,name:"project-create",labelCol:{span:6},wrapperCol:{span:16},autoComplete:"off",onFinish:_e,onFinishFailed:ea,children:[(0,e.jsx)(u.Z.Item,{label:"T\xEAn c\xF4ng vi\u1EC7c",name:"name",rules:[{required:!0,message:"H\xE3y nh\u1EADp t\xEAn c\xF4ng vi\u1EC7c"}],children:(0,e.jsx)(j.Z,{placeholder:"T\xEAn c\xF4ng vi\u1EC7c...",value:se,onChange:function(o){F(o.target.value)}})}),(0,e.jsx)(u.Z.Item,{label:"Lo\u1EA1i c\xF4ng vi\u1EC7c",name:"type",children:(0,e.jsx)(q.Z,{value:fe,options:D.mS,onChange:function(o){de(o)}})}),(0,e.jsx)(u.Z.Item,{label:"Ng\u01B0\u1EDDi th\u1EF1c hi\u1EC7n",name:"assignee",children:(0,e.jsx)(v.Z,{tags:he,setTags:function(o){re(o)},disabled:fe===1})}),(0,e.jsx)(u.Z.Item,{label:"Ng\u01B0\u1EDDi t\u1EA1o",children:(0,e.jsx)(Ce.Z,{children:Ze})}),(0,e.jsx)(u.Z.Item,{label:"Nh\xF3m c\xF4ng vi\u1EC7c",children:(0,e.jsx)(I.Z,{tags:ye,setTags:function(o){i(o)},disabled:!1})}),(0,e.jsx)(u.Z.Item,{label:"Ng\xE0y b\u1EAFt \u0111\u1EA7u",name:"startDate",rules:[{required:!0,message:"H\xE3y ch\u1ECDn ng\xE0y b\u1EAFt \u0111\u1EA7u c\xF4ng vi\u1EC7c"}],children:(0,e.jsx)(_.Z,{showTime:!0,onChange:function(o,V){Ye(o,V,"begin")}})}),(0,e.jsx)(u.Z.Item,{label:"Ng\xE0y h\u1EBFt h\u1EA1n",name:"endDate",rules:[{required:!0,message:"H\xE3y ch\u1ECDn ng\xE0y h\u1EBFt h\u1EA1n c\u1EE7a c\xF4ng vi\u1EC7c"}],children:(0,e.jsx)(_.Z,{showTime:!0,onChange:function(o,V){Ye(o,V,"end")}})}),(0,e.jsx)(u.Z.Item,{label:"\u0110\u1ED9 \u01B0u ti\xEAn",name:"priority",rules:[{required:!0,message:"H\xE3y ch\u1ECDn \u0111\u1ED9 \u01B0u ti\xEAn c\xF4ng vi\u1EC7c"}],children:(0,e.jsx)(q.Z,{value:Re,options:D.jY,onChange:function(o){Ne(o)}})}),(0,e.jsx)(u.Z.Item,{label:"Tr\u1EA1ng th\xE1i",children:(0,e.jsx)(q.Z,{value:Ue,options:D.hm,disabled:!0,onChange:function(o){ze(o)}})}),(0,e.jsx)(u.Z.Item,{label:"M\xF4 t\u1EA3",children:(0,e.jsx)(j.Z.TextArea,{rows:2,placeholder:"M\xF4 t\u1EA3 d\u1EF1 \xE1n...",maxLength:200,value:Ge,onChange:function(o){Je(o.target.value)}})})]})})]})},p=ee,O=a(20046),z=a(51042),oe=a(88360),H=a(22594),ie=a(87547),ae=a(18429),te=a(96074),P=a(17948),$=a(98293),S=function(d){var N=d.children,T=(0,t.useState)(!1),y=n()(T,2),L=y[0],A=y[1],K=(0,t.useState)(""),M=n()(K,2),B=M[0],R=M[1],ne=(0,t.useState)([]),m=n()(ne,2),g=m[0],E=m[1],se=(0,t.useState)(!1),F=n()(se,2),Se=F[0],ue=F[1],fe=(0,t.useState)(),de=n()(fe,2),ce=de[0],Ee=de[1],he=(0,w.useParams)(),re=(0,w.useModel)("project"),Fe=re.listProject,pe=re.addComment,Ze=re.deleteMemberProject;(0,t.useEffect)(function(){var i=function(){var l=U()(h()().mark(function x(Y){var r,Z;return h()().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return Q.next=2,H.Z.projectApi.get(Y);case 2:if(r=Q.sent,console.log("hello project",r),!(r!=null&&r.members)){Q.next=10;break}return Q.next=7,H.Z.authApi.getUsersByEmail(r.members);case 7:Z=Q.sent,console.log("get mem",Z),E(Z);case 10:Ee(r);case 11:case"end":return Q.stop()}},x)}));return function(Y){return l.apply(this,arguments)}}();i(he.id)},[Se]);var Pe=function(){var i=U()(h()().mark(function l(x){return h()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!x){r.next=3;break}return r.next=3,Ze(x,he.id);case 3:ue(function(Z){return!Z});case 4:case"end":return r.stop()}},l)}));return function(x){return i.apply(this,arguments)}}(),Ie=function(){var i=U()(h()().mark(function l(){var x;return h()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,H.Z.authApi.findByEmail(B);case 2:if(x=r.sent,!x){r.next=9;break}return r.next=6,pe(he.id,B);case 6:ue(function(Z){return!Z}),r.next=10;break;case 9:me.ZP.error("Kh\xF4ng t\xECm th\u1EA5y ng\u01B0\u1EDDi d\xF9ng!");case 10:case"end":return r.stop()}},l)}));return function(){return i.apply(this,arguments)}}(),Te=function(){A(!0)},ye=function(){A(!1)};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("span",{onClick:Te,children:N}),(0,e.jsxs)(k.Z,{title:"Th\xE0nh vi\xEAn",open:L,onCancel:ye,bodyStyle:{borderTop:"solid 1px #000000",paddingTop:"12px"},footer:null,children:[(0,e.jsxs)(C.Z.Compact,{style:{width:"100%"},children:[(0,e.jsx)(j.Z,{placeholder:"Nh\u1EADp email ng\u01B0\u1EDDi mu\u1ED1n m\u1EDDi...",value:B,onChange:function(l){R(l.target.value)}}),(0,e.jsx)(f.ZP,{onClick:Ie,children:"M\u1EDDi"})]}),(0,e.jsx)(te.Z,{}),(0,e.jsx)(P.Z,{itemLayout:"horizontal",size:"small",dataSource:g,renderItem:function(l,x){return(0,e.jsxs)(P.Z.Item,{children:[(0,e.jsx)(P.Z.Item.Meta,{avatar:(0,e.jsx)($.C,{icon:(0,e.jsx)(ie.Z,{})}),title:l.name,description:l.email}),l.email===(ce==null?void 0:ce.creator)?(0,e.jsx)("div",{children:"Ng\u01B0\u1EDDi t\u1EA1o"}):(0,e.jsxs)(C.Z,{children:[(0,e.jsx)("div",{children:"Th\xE0nh vi\xEAn"}),(0,e.jsx)(f.ZP,{onClick:function(){return Pe(l.email)},icon:(0,e.jsx)(ae.Z,{})})]})]})}})]})]})},G=S,J=function(d){var N=d.type,T=d.projectId,y=T===void 0?"private":T;switch(N){case"share":return(0,e.jsx)(s,{children:(0,e.jsx)(f.ZP,{ghost:!0,type:"primary",icon:(0,e.jsx)(O.Z,{}),children:" Chia s\u1EBB"},"1")});case"project-create":return(0,e.jsx)(Me,{children:(0,e.jsx)(f.ZP,{ghost:!0,type:"primary",icon:(0,e.jsx)(z.Z,{}),children:" T\u1EA1o d\u1EF1 \xE1n"},"1")});case"task-create":return(0,e.jsx)(p,{projectId:y,children:(0,e.jsx)(f.ZP,{ghost:!0,type:"primary",icon:(0,e.jsx)(z.Z,{}),children:" T\u1EA1o c\xF4ng vi\u1EC7c"},"1")});case"add-member":return(0,e.jsx)(G,{children:(0,e.jsx)(f.ZP,{ghost:!0,type:"primary",icon:(0,e.jsx)(oe.Z,{}),children:" Th\xEAm th\xE0nh vi\xEAn"},"1")});default:break}},b=J}}]);
