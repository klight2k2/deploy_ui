"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[773],{69877:function(xe,G,e){e.d(G,{Z:function(){return V}});var K=e(9783),j=e.n(K),$=e(97857),i=e.n($),k=e(5574),T=e.n(k),Z=e(67294),J=e(44381),H=e(27324),F=e(42075),S=e(34041),b=e(71230),R=e(15746),w=e(51904),q=e(98293),D=e(86738),_=e(71577),O=e(84427),ee=e(48689),se=e(35312),A=e(99512),z=e(33076),v=e(70461),a=e(85893),te=function(f,h,u){var l=Array.from(f),s=l.splice(h,1),r=_slicedToArray(s,1),o=r[0];return l.splice(u,0,o),l},ne=function(f,h,u,l){var s=Array.from(f),r=Array.from(h),o=s.splice(u.index,1),C=_slicedToArray(o,1),I=C[0];r.splice(l.index,0,I);var U={};return U[u.droppableId]=s,U[l.droppableId]=r,U},B=8,t=function(f,h){return i()({userSelect:"none",padding:B*2,margin:"0 0 ".concat(B,"px 0"),background:"white"},h)},c=function(f){return{padding:B,width:"100%"}},P=function(){var f=(0,Z.useState)({todo:[],doing:[],done:[]}),h=T()(f,2),u=h[0],l=h[1],s=(0,se.useModel)("listTask"),r=s.listTask,o=s.editTask,C=s.removeTask,I=(0,Z.useState)(""),U=T()(I,2),oe=U[0],ue=U[1],ie=(0,Z.useState)(!1),ae=T()(ie,2),de=ae[0],ve=ae[1],ce=[{title:"Ch\u01B0a th\u1EF1c hi\u1EC7n",key:"todo",color:"#FFFDF1"},{title:"\u0110ang th\u1EF1c hi\u1EC7n",key:"doing",color:"#FFF1F1"},{title:"\u0110\xE3 ho\xE0n th\xE0nh",key:"done",color:"#F5FFF1"}];(0,Z.useEffect)(function(){var p=[],x=[],g=[];r.sort(function(d,m){return de?m.priority-d.priority:d.priority-m.priority}),r.forEach(function(d){(oe===""||d.name.includes(oe))&&(d.status===1?p.push(d):d.status===2?x.push(d):g.push(d))}),l({todo:p,doing:x,done:g})},[r,oe,de]);function he(p){var x=p.source,g=p.destination;if(g){var d=x.droppableId,m=g.droppableId;if(d===m){var X=u[d],n=X.splice(x.index,1),y=T()(n,1),re=y[0];X.splice(g.index,0,re),l(i()(i()({},u),{},j()({},d,X)))}else{var E,W=u[d],N=u[m],L=W.splice(x.index,1),M=T()(L,1),Y=M[0];N.splice(g.index,0,Y),o(i()(i()({},Y),{},{status:m==="todo"?1:m==="doing"?2:3})),l(i()(i()({},u),{},(E={},j()(E,d,W),j()(E,m,N),E)))}}}return(0,a.jsxs)(F.Z,{direction:"vertical",style:{width:"100%"},children:[(0,a.jsxs)(F.Z,{children:[(0,a.jsx)(z.Z,{placeholder:"Nh\u1EADp c\xF4ng vi\u1EC7c b\u1EA1n mu\u1ED1n t\xECm ki\u1EBFm",allowClear:!0,onSearch:function(x){return ue(x)},style:{width:304}}),(0,a.jsx)(S.Z,{placeholder:"S\u1EAFp x\u1EBFp theo \u0111\u1ED9 \u01B0u ti\xEAn",allowClear:!0,style:{width:200},onChange:function(x){console.log(x),ve(x)},options:[{value:!0,label:"Cao xu\u1ED1ng th\u1EA5p"},{value:!1,label:"Th\u1EA5p l\xEAn th\u1EA5p"}]})]}),(0,a.jsx)(J.Z5,{onDragEnd:he,children:(0,a.jsx)(b.Z,{gutter:[16,16],children:ce.map(function(p,x){var g=u[p.key];return(0,a.jsx)(R.Z,{span:8,children:(0,a.jsx)(J.bK,{droppableId:"".concat(p.key),className:"d-flex",children:function(m,X){return(0,Z.createElement)(H.Z,i()(i()({title:(0,a.jsxs)("div",{children:["".concat(p.title," ")," ",(0,a.jsx)(w.Z,{color:"purple",children:g.length})]}),bodyStyle:{padding:0,minHeight:"500px",overflowY:"auto",maxHeight:"500px"},headStyle:{padding:0,marginBottom:4},ref:m.innerRef,style:i()(i()({},c(X.isDraggingOver)),{},{backgroundColor:"".concat(p.color),borderRadius:"12px"})},m.droppableProps),{},{key:x}),g.map(function(n,y){return(0,a.jsx)(J._l,{draggableId:n.id,index:y,children:function(E,W){var N,L,M;return(0,a.jsx)(v.Z,{task:n,children:(0,Z.createElement)(H.Z,i()(i()(i()({ref:E.innerRef},E.draggableProps),E.dragHandleProps),{},{style:i()(i()({},t(W.isDragging,E.draggableProps.style)),{},{backgroundColor:"#EFE9FF",borderRadius:"12px"}),bodyStyle:{padding:0},key:n.id}),(0,a.jsxs)(F.Z,{direction:"vertical",style:{width:"100%"},children:[(0,a.jsx)("h4",{children:n.name}),(0,a.jsx)("span",{children:n==null?void 0:n.description}),(0,a.jsxs)("div",{children:[(0,a.jsx)(O.Z,{content:(N=A.jY[n.priority-1])===null||N===void 0?void 0:N.label}),n==null||(L=n.tags)===null||L===void 0?void 0:L.map(function(Y){return(0,a.jsx)(O.Z,{content:Y})}),(0,a.jsx)(O.Z,{content:(M=A.mS[n.type-1])===null||M===void 0?void 0:M.label})]}),(0,a.jsxs)("div",{className:"d-flex justify-between",children:[(0,a.jsxs)(F.Z,{children:[(0,a.jsx)(q.C,{src:n.assignee.avatar||A.tU,size:24}),"Deadline: ",n.endTime.replaceAll("-","/").split(" ")[0]]}),(0,a.jsx)(D.Z,{title:"Xo\xE1 c\xF4ng vi\u1EC7c",description:"B\u1EA1n c\xF3 ch\u1EAFc mu\u1ED1n x\xF3a c\xF4ng vi\u1EC7c n\xE0y ch\u1EE9",onConfirm:function(le){le==null||le.stopPropagation(),C(n.id)},okText:"X\xF3a",cancelText:"H\u1EE7y",children:(0,a.jsx)(_.ZP,{size:"small",onClick:function(le){return le.stopPropagation()},danger:!0,icon:(0,a.jsx)(ee.Z,{}),style:{borderRadius:"8px"},children:"X\xF3a"})})]})]}))})}},n.id)}),m.placeholder)}},x)})})})})]})},V=P},54074:function(xe,G,e){e.d(G,{Z:function(){return ne}});var K=e(714),j=e(366),$=e(62857),i=e(62323),k=e(49574),T=e(16644),Z=e(36262),J=e(59894),H=e(24138),F=e(67294),S=e(86074),b=e(12444),R=e.n(b),w=e(72004),q=e.n(w),D=e(31996),_=e.n(D),O=e(26037),ee=e.n(O);(0,S.dW)(!0);var se=function(B){_()(c,B);var t=ee()(c);function c(){return R()(this,c),t.apply(this,arguments)}return q()(c,[{key:"rendereComplete",value:function(){}},{key:"componentDidMount",value:function(){var V=this;setTimeout(function(){V.rendereComplete()})}}]),c}(F.PureComponent);function A(){}var z=e(35312),v=e(85893);(0,S.GG)("Mgo+DSMBaFt9QHFqVkJrW05Gc0BAXWFKblF8RWBTellgBShNYlxTR3ZZQFhjS3tXckBmXnxb;Mgo+DSMBPh8sVXJ2S0d+X1VPcUBAWHxLflF1VWFTf116cVJWESFaRnZdQV1lS3tTdEBnXXpbeHxQ;ORg4AjUWIQA/Gnt2V1hhQlJAfVhdX2ZWfFN0RnNbdV5zflBBcC0sT3RfQF5jT3xWdkdmXXtbdnRWQw==;MjUwNzEzM0AzMjMyMmUzMDJlMzBGbEE4ckk1ZDE0TlhhRTJYQldjbDRkN1M5VU9mQVJMcUZMdHpBMGxlWlpVPQ==;MjUwNzEzNEAzMjMyMmUzMDJlMzBuQVlCWlp5ekxvWHdlMWpYcUlJcHBMVVdmelRkT2NMa2ZJanBsUnJjdThZPQ==;NRAiBiAaIQQuGjN/V0R+XU9HclRFQmFMYVF2R2BJfVRwd19DZ0wgOX1dQl9gSXhRc0VhXHtadXJTQ2U=;MjUwNzEzNkAzMjMyMmUzMDJlMzBRMm9LSW1xSmpWdE9NNStta2lZbzA0OGFualFWcGYrWEF1M0JnZjlsQlhJPQ==;MjUwNzEzN0AzMjMyMmUzMDJlMzBOTE5uY3ZrMnJpdDdBTmxwdG5WNFZhc3FxSnc0d1ZNZndLNmJOT0I5STZNPQ==;Mgo+DSMBMAY9C3t2V1hhQlJAfVhdX2ZWfFN0RnNbdV5zflBBcC0sT3RfQF5jT3xWdkdmXXtbd3ZSQw==;MjUwNzEzOUAzMjMyMmUzMDJlMzBHOHZOZE9nWmxOR25VOVdBcWppMHAvVjNuMnJoSDdydzNEQ1dQaGRIL0hZPQ==;MjUwNzE0MEAzMjMyMmUzMDJlMzBJbDEzRTRGd2dNNUZxQkpUUER2NzNDN0psMkRyQ0k3ZU1DS01sam1jRlBBPQ==;MjUwNzE0MUAzMjMyMmUzMDJlMzBRMm9LSW1xSmpWdE9NNStta2lZbzA0OGFualFWcGYrWEF1M0JnZjlsQlhJPQ==");var a=function(t,c){switch(t){case 1:return c===3?"#16a34a80":"#16a34a";case 2:return c===3?"#f2bd2782":"#F2BD27";case 3:return c===3?"#ed393996":"#ED3939"}},te=function(){var t=(0,z.useModel)("listTask"),c=t.listTask;(0,F.useEffect)(function(){},[c]);var P=(0,F.useRef)(null),V=new S.eC,Q=(0,S.l7)([],c.map(function(s){return{id:s.id,Subject:s.name,StartTime:s.startTime,EndTime:s.endTime,CategoryColor:a(s.priority,s.status),test:s}}),null,!0),f=function(r){return V.formatDate(r,{skeleton:"hm"})},h=function(r){return(0,v.jsx)("div",{className:"template-wrap",children:(0,v.jsx)("div",{className:"subject",children:r.Subject})})},u=function(r){var o=r.data.CategoryColor;!r.element||!o||(P.current.currentView==="Agenda"?r.element.firstChild.style.borderLeftColor=o:r.element.style.backgroundColor=o)},l=function(r){console.log("onPopupOpen",r),r.type==="QuickInfo"&&(r.cancel=!0)};return(0,v.jsx)("div",{className:"schedule-control-section",children:(0,v.jsx)("div",{className:"col-lg-12 control-section",children:(0,v.jsx)("div",{className:"control-wrapper",children:(0,v.jsxs)(K.i,{width:"100%",height:"650px",selectedDate:new Date,ref:P,eventSettings:{dataSource:Q,eventTemplate:h},eventRendered:u,popupOpen:l,children:[(0,v.jsxs)(j.S,{children:[(0,v.jsx)(j.R,{option:"Month",displayName:"Th\xE1ng"}),(0,v.jsx)(j.R,{option:"Week",displayName:"Tu\u1EA7n"}),(0,v.jsx)(j.R,{option:"Day",displayName:"Ng\xE0y"}),(0,v.jsx)(j.R,{option:"TimelineDay",displayName:"Timeline"}),(0,v.jsx)(j.R,{option:"Agenda"})]}),(0,v.jsx)($.tB,{services:[i.J,k.H,T.U,Z.D,J.m,H.B]})]})})})})},ne=te},81721:function(xe,G,e){e.r(G),e.d(G,{default:function(){return V}});var K=e(15009),j=e.n(K),$=e(99289),i=e.n($),k=e(5574),T=e.n(k),Z=e(84427),J=e(69877),H=e(48689),F=e(90930),S=e(27324),b=e(71230),R=e(15746),w=e(86738),q=e(71577),D=e(42075),_=e(61621),O=e(34041),ee=e(47221),se=e(54074),A=e(35312),z=e(67294),v=e(70461),a=e(99512),te=e(99220),ne=e(22594),B=e(33076),t=e(85893),c=function(f){var h,u,l=f.task,s=(0,A.useModel)("listTask"),r=s.removeTask;return(0,t.jsx)(v.Z,{task:l,children:(0,t.jsxs)(b.Z,{gutter:[16,16],align:"middle",className:"task",children:[(0,t.jsx)(R.Z,{span:11,children:l==null?void 0:l.name}),(0,t.jsxs)(R.Z,{span:6,children:[(0,t.jsx)(Z.Z,{content:(h=a.jY[l.priority-1])===null||h===void 0?void 0:h.label}),(0,t.jsx)(Z.Z,{content:(u=a.mS[l.type-1])===null||u===void 0?void 0:u.label})]}),(0,t.jsxs)(R.Z,{span:5,children:[" Deadline:",l==null?void 0:l.endTime]}),(0,t.jsxs)(R.Z,{span:2,className:"d-flex justify-center align-center",children:[" ",(0,t.jsx)(w.Z,{title:"Xo\xE1 c\xF4ng vi\u1EC7c",description:"B\u1EA1n c\xF3 ch\u1EAFc mu\u1ED1n x\xF3a c\xF4ng vi\u1EC7c n\xE0y ch\u1EE9",onConfirm:function(C){C==null||C.stopPropagation(),r(l.id)},okText:"X\xF3a",cancelText:"H\u1EE7y",children:(0,t.jsx)(q.ZP,{danger:!0,icon:(0,t.jsx)(H.Z,{}),onClick:function(C){C.stopPropagation()}})})]})]})})},P=function(){var f=(0,A.useModel)("listTask"),h=f.listTask,u=f.removeTask,l=f.setListTask,s=(0,z.useState)(),r=T()(s,2),o=r[0],C=r[1],I=(0,A.useModel)("project"),U=I.listProject,oe=I.addMember,ue=(0,z.useState)(""),ie=T()(ue,2),ae=ie[0],de=ie[1],ve=(0,z.useState)(!1),ce=T()(ve,2),he=ce[0],p=ce[1],x=[],g=[],d=[];h.sort(function(n,y){return he?y.priority-n.priority:n.priority-y.priority}),h.forEach(function(n){console.log(n),(ae===""||n.name.includes(ae))&&(n.status===1?x.push((0,t.jsx)(c,{task:n})):n.status===2?g.push((0,t.jsx)(c,{task:n})):d.push((0,t.jsx)(c,{task:n})))});var m=(0,A.useParams)();(0,z.useEffect)(function(){var n=function(){var y=i()(j()().mark(function re(E){var W,N;return j()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.next=2,ne.Z.projectApi.get(E);case 2:return W=M.sent,M.next=5,ne.Z.taskApi.getByProject(E);case 5:N=M.sent,console.log("project detail",W),console.log("project detail",N),l(N),C(W);case 10:case"end":return M.stop()}},re)}));return function(E){return y.apply(this,arguments)}}();n(m.id)},[U]),console.log("memberr",o==null?void 0:o.members);var X=[{key:"1",label:"Ch\u01B0a th\u1EF1c hi\u1EC7n",children:(0,t.jsx)(D.Z,{className:"list-task",direction:"vertical",children:x})},{key:"2",label:"\u0110ang th\u1EF1c hi\u1EC7n",children:(0,t.jsx)(D.Z,{className:"list-task",direction:"vertical",children:g})},{key:"3",label:"\u0110\xE3 ho\xE0n th\xE0nh",children:(0,t.jsx)(D.Z,{className:"list-task",direction:"vertical",children:d})}];return(0,t.jsx)(F._z,{pageHeaderRender:!1,children:(0,t.jsxs)(S.Z,{title:(0,t.jsxs)("div",{children:[(0,t.jsx)(_.Z,{preview:!1,height:40,width:40,src:(o==null?void 0:o.avatar)||a.KY}),(0,t.jsx)("span",{className:"ml-16",children:o==null?void 0:o.name})]}),extra:(0,t.jsxs)(D.Z,{children:[(0,t.jsx)(te.Z,{type:"add-member"}),(0,t.jsx)(te.Z,{type:"task-create",projectId:m.id})]}),tabs:{type:"line"},children:[(0,t.jsx)(S.Z.TabPane,{tab:"Danh s\xE1ch",children:(0,t.jsxs)(D.Z,{direction:"vertical",style:{width:"100%"},children:[(0,t.jsxs)(D.Z,{children:[(0,t.jsx)(B.Z,{placeholder:"Nh\u1EADp c\xF4ng vi\u1EC7c b\u1EA1n mu\u1ED1n t\xECm ki\u1EBFm",allowClear:!0,onSearch:function(y){return de(y)},style:{width:304}}),(0,t.jsx)(O.Z,{placeholder:"S\u1EAFp x\u1EBFp theo \u0111\u1ED9 \u01B0u ti\xEAn",allowClear:!0,style:{width:200},onChange:function(y){console.log(y),p(y)},options:[{value:!0,label:"Cao xu\u1ED1ng th\u1EA5p"},{value:!1,label:"Th\u1EA5p l\xEAn th\u1EA5p"}]})]}),(0,t.jsx)(ee.Z,{items:X,defaultActiveKey:["1"]})]})},"list"),(0,t.jsx)(S.Z.TabPane,{tab:"B\u1EA3ng",children:(0,t.jsx)(J.Z,{})},"board"),(0,t.jsx)(S.Z.TabPane,{tab:"L\u1ECBch",children:(0,t.jsx)(se.Z,{})},"calendar")]})})},V=P}}]);
